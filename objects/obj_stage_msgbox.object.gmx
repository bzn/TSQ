<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_ui_box_bg</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>type = MSG_NULL;

isActive = false;
msgTitle  = "";
msgStr[0] = "";
msgStr[1] = "";
msgStr[2] = "";
msgStr[3] = "";

activePosX = global.deviceW *0.5;
activePosY = global.deviceH *0.5;

image_xscale = global.deviceW / sprite_get_width(image_index);
image_yscale = global.deviceH / sprite_get_height(image_index);

unactivePosX = 99999;
unactivePosY = 99999;

greenBtn = instance_create(x-100,y+130,obj_msg_green);
greenBtn.depth = -99999999;

redBtn = instance_create(x+100,y+130,obj_msg_red);
redBtn.depth = -99999999;

newHero = -1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(greenBtn.isClick &amp;&amp; !global.uiShop.isActive)
{
    greenBtn.isClick = false;
    isActive = false;
    switch(type)
    {
        case MSG_PRICE:                                    
            scr_next_stage();
        break;
        
        case MSG_CONTINUE:   
            
            //global.nowDBall = 10;
            
            var continueCost = scr_get_continue_cost();
            if(global.nowDBall &gt;= continueCost)
            {
                // player want to continuue                
                scr_continue();
            }
            else
            {
                // error msg
                isActive = true;
                type = MSG_GOSHOP;  
                if(global.language == "chs")
                {
                    msgTitle = "     龙 珠 不 足";     
                    msgStr[0] = "";
                    msgStr[1] = "          是否前往商店购买？";
                    msgStr[2] = "";
                    msgStr[3] = "";
                    msgStr[4] = "";
                }
                else
                {
                    msgTitle = "     龍 珠 不 足";     
                    msgStr[0] = "";
                    msgStr[1] = "          是否前往商店購買？";
                    msgStr[2] = "";
                    msgStr[3] = "";
                    msgStr[4] = "";
                }
            }
            
        break;
        
        case MSG_GOSHOP:
            scr_continue_msg();
            global.uiShop.isActive = true;
            global.uiShop.activePosX = view_xview + global.deviceW *0.5;
            global.uiShop.activePosY = view_yview + global.deviceH *0.5;
        break;
    }    
}
else if(redBtn.isClick &amp;&amp; !global.uiShop.isActive)
{
    redBtn.isClick = false;
    isActive = false;
    switch(type)
    {
        case MSG_CONTINUE:
            scr_gameover();
        break;
        
        case MSG_GOSHOP:
            scr_continue_msg();
            //global.uiShop.isActive = true;
            //scr_gameover();
        break;
        case MSG_WARNING:
            // ....
        break;
    }
}

if(!isActive)
{
    x = unactivePosX;
    y = unactivePosY;
}
else
{
    x = view_xview + activePosX;
    y = view_yview + activePosY;
}

if(type == MSG_WARNING)
{
    redBtn.x = x; 
    redBtn.y = y+120;
    greenBtn.x = 9999; 
    greenBtn.y = 9999;
}
else if(type == MSG_PRICE)
{
    greenBtn.x = x; 
    greenBtn.y = y+120;
    redBtn.x = 9999; 
    redBtn.y = 9999;
}
else
{
    greenBtn.x = x+100; 
    greenBtn.y = y+120;
    redBtn.x = x-100; 
    redBtn.y = y+120;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var ymove = -30;
if(newHero == -1 &amp;&amp; global.stageMsgbox.type == MSG_PRICE)
{
    var unlockHeroID = global.nowStage + 3;    
    
    if(unlockHeroID == 1)
        newHero = instance_create(x,y+ymove,obj_itemhero001);
    else if(unlockHeroID == 2)
        newHero = instance_create(x,y+ymove,obj_itemhero002);
    else if(unlockHeroID == 3)
        newHero = instance_create(x,y+ymove,obj_itemhero003);
    else if(unlockHeroID == 4)
        newHero = instance_create(x,y+ymove,obj_itemhero004);
    else if(unlockHeroID == 5)
        newHero = instance_create(x,y+ymove,obj_itemhero005);
    else if(unlockHeroID == 6)
        newHero = instance_create(x,y+ymove,obj_itemhero006);
    else if(unlockHeroID == 7)
        newHero = instance_create(x,y+ymove,obj_itemhero007);
    else if(unlockHeroID == 8)
        newHero = instance_create(x,y+ymove,obj_itemhero008);
    else if(unlockHeroID == 9)
        newHero = instance_create(x,y+ymove,obj_itemhero009);
    else if(unlockHeroID == 10)
        newHero = instance_create(x,y+ymove,obj_itemhero010);
    else if(unlockHeroID == 11)
        newHero = instance_create(x,y+ymove,obj_itemhero011);
    else if(unlockHeroID == 12)
        newHero = instance_create(x,y+ymove,obj_itemhero012);
    else if(unlockHeroID == 13)
        newHero = instance_create(x,y+ymove,obj_itemhero013);
    else if(unlockHeroID == 14)
        newHero = instance_create(x,y+ymove,obj_itemhero014);
    else if(unlockHeroID == 15)
        newHero = instance_create(x,y+ymove,obj_itemhero015);
    else if(unlockHeroID == 16)
        newHero = instance_create(x,y+ymove,obj_itemhero016);

    newHero.depth = -9999999;
}

newHero.x = x;
newHero.y = y+ymove;

//draw_sprite(sprite_index, 0, x, y);
draw_sprite_ext(sprite_index, 0, x, y, 100, 100, 0, -1, 1);
draw_sprite(spr_ui_box2, 0, x, y);

scr_draw_text(x-136,y-226,msgTitle,c_white,font30,0,c_black);

scr_draw_text(x-180,y-130,msgStr[0],c_white,font20,1,c_black);
scr_draw_text(x-180,y-80,msgStr[1],c_white,font20,1,c_black);
scr_draw_text(x-180,y-30,msgStr[2],c_white,font20,1,c_black);
scr_draw_text(x-180,y+20,msgStr[3],c_white,font20,1,c_black);


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>320,568</point>
    <point>568,568</point>
  </PhysicsShapePoints>
</object>
